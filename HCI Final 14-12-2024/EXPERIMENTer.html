<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=account_circle,grocery,location_on,notifications,shopping_cart,store "rel="stylesheet"  />
<style>

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f9f9f9;
  }
  
  .ultimate_nav{
  display: flex;
  position: sticky;
  align-self: flex-start;
  top: 0;
  
  flex-direction: column;
  
  z-index: 1;
  
  box-shadow: 0 1.5rem 3rem -0.75rem hsla(0, 0%, 0%, 0.25);
  }
  header {
    display: flex;
    position: sticky;
    align-self: flex-start;
    top: 0;
  
    background-color: #0D492D;
    height: 100px;
    width: 100%;
    z-index: 1;
  
    
    justify-content: center;
  
    color: white;
  
    text-align: center;
  
  }
  header > .element_container {
    display: flex;
    margin: 0 0;
    width: 70rem;
    justify-content: space-between;
    transition: font-variation-settings 0.3s;
    
  }
  
  .element_container > .logo {
    display: flex;
  
  
    position: relative;
    flex-wrap: nowrap;
    flex-direction: row;
    width: max-content;
    transition: transform 0.3s ease;
  
  }
  .element_container > .logo :hover{
  
    transform: translatey(-2px);
  }
  
  
  .logo img{
    width: 100%;
    height: 100%;
  }
  .link {
    display: flex;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
  }
  
  .element_container > .location_icon{
  
    display: flex;
    height: 48px;
    /* width: 250px; */
    margin-right: 5rem;
    margin-left: -7rem;
    z-index: 3;
    top: 25%;
    position: relative;
    justify-content: space-evenly;
    flex-direction: row;
    font-size: 40px;
  
  }
  /*--------------------------------------------------*/
  #search-bar {
    height: 48px;
    width: 439px;
  
    border: 1px solid #ddd;
    border-radius: 30px;
    font-size: 1rem;
  
    z-index: 10;
    padding: 0 0.5rem;
    position: relative;
  }
  .element_container > .Search_bar {
  
    width: 439px;
    z-index: 10;
    top: 25%;
    position: relative;
  }
  .element_container > .Search_bar >    .Search_ICON {
        background-color: transparent;
        height: 19px;
        left: 29px;
        position: absolute;
        top: 15px;
        width: 19px;
    }
  
  
    .suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 10;
      max-height: 150px;
      overflow-y: auto;
    }
  
    .suggestions p {
      padding: 0.5rem;
      margin: 0;
      cursor: pointer;
      color: black;
    }
  
    .suggestions p:hover {
      background: #f0f0f0;
    }
  
    .hidden {
      display: none;
    }
  
  /*-------------------------------------------------------*/
  
  .element_container > .shopping_icons_box{
  margin-left: 10px;
  display: flex;
  font-size: 40px;
  
  height: 48px;
  width: 250px;
  z-index: 3;
  top: 25%;
  position: relative;
  
  justify-content: space-evenly;
  flex-direction: row;
  }
  
  span.material-symbols-outlined {
    margin-top: 4px;
    margin-left: 10px;
    color: #F8C519;
    font-size: 40px;
    position: relative;
    
    font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24;   
  
  
    }
  .icon{
  
    transition:  transform 0.3s ease, font-variation-settings 0.15s;
  }
  
  .icon :hover{
    font-variation-settings:
      'FILL' 1,
      'wght' 500,
      'GRAD' 0,
      'opsz' 24;   
  
      transform: translateY(-3px);
      
  }
  
  
  
  
  /*------------------------------------waste_index------------------------------------*/
  
  .waste_index {
  display: flex;
  position: sticky;
  align-self: flex-start;
  align-items: center;
  top: 0;
  width : 100%;
  flex-direction: column;
  justify-content: center;
  
  background-color: #ffffff;
  
  height: 50px;
  
  }
  
  .meter_wrapepr{
  display: flex;
  justify-content: center;
  width: 100%;
  }
  
  .w3-progress-container{
  
  width:25%;
  height:1.5em;
  position:relative;
  background-color:#f1f1f1
  
  }
  .w3-progressbar{
  background-color:#F8C519;
  height:100%;
  position:absolute;
  line-height:inherit
  }
  
  .w3-round-xlarge{
  border-radius:16px!important
  }
  .barcontainer {
    width: 60%; /* Full width */
    background-color: rgb(219, 216, 216); /* Grey background */
    height: 50px;
    margin: auto;
    border-radius: 25px;
    position: relative; 
  }
  .line-waste-meter{
    height:100%;
    top:0;
    left:0;
    width:0%; 
    background-color: rgba(209, 66, 66, 0.798); /* White text color */
    border-radius: 25px;
    position: absolute;
    z-index: 2;
    opacity: 0.6;
  }
  
  .line-eco-meter{
    height:100%;
    width: 0%;
    background-color: #F8C519; /* White text color */
    border-radius: 25px;
    top: 0;
    left: 0;
    z-index: 1;
    position: absolute;
  }
  
  .white-guys {
    
      display: flex;
          position: sticky;
          align-self: flex-start;
          top: 0;
          align-items: center;
          background-color: white;
          height: 70px;
          width: 100%;
          z-index: 0;
          
          box-shadow: 0px 4px 4px #00000040;
    }
  
/*==========================================================================================================*/

.scrollable-menu {
    display: flex;               /* Use flexbox for horizontal layout */
    overflow-x: scroll;           /* Enable horizontal scrolling */
    white-space: nowrap;        /* Prevent wrapping of items */
    padding: 10px;              /* Optional: Add some padding */
    background-color: #fff;     /* Optional: Background color */
    gap: 1rem;
}
.scrollable-container {
    overflow-x: scroll;
    overflow-y: hidden; /* Optional: Hides vertical scrollbar */
  }
  * {box-sizing: border-box}
  
  /* Set height of body and the document to 100% */

  
  /* Style tab links */
  .tablink {
    display: flex;
    border-radius: 50%;

    color: white;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 7px 7px;
    font-size: 17px;
    width: 5rem;
    height: 5rem;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }
  .tablink img{
    object-fit: contain;
  }
  
  .tablink:hover {
    background-color: #F8C519;
    transform: translateY(-3px);
  }
  
  /* Style the tab content (and add height:100% for full page content) */
  .tabcontent {
  /*  display:grid ;*/
    color: white;
    display: none;
    padding: 100px 20px;
    height: 100%;
  }
  
/*
  #News {background-color: green;}
  #Contact {background-color: blue;}
  #About {background-color: orange;}*/


  /*=================PRODUCTS=========================================================================================================================================================*/

    

    .filterDiv .product {
      border: 1px solid #ddd;
      border-radius: 10px;
      background-color: white;
      text-align: center;
      padding: 1rem;
    }
    .filterDiv .product img {
      max-width: 100%;
      border-bottom: 1px solid #ddd;
    }
    .filterDiv .product h3 {
      margin: 1rem 0 0.5rem;
    }
    .filterDiv .product p {
      color: gray;
    }
    /*.product :hover{
        box-shadow: 10px 10px 20px rgba(36, 36, 36, 0.5);
        transform: translateY(-5px);
    }*/

/*==================================================  FILTER DIV IS PRODUCT CARD  ========================*/

    .filterDiv {
        aspect-ratio: 2 / 3;

        border: 2px solid #ddd;
        border-radius: 20px;
        background-color: white;
        text-align: center;
        padding: 1rem;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
        object-fit: scale-down;
        cursor: pointer;
        display: none;

      }
      .filterDiv img {
        width: 80%;
        max-height: 70%; /* Prevents overflow */
        object-fit: contain; /* Ensures image scales correctly */
        margin-bottom: 1rem; /* Adds space between the image and text */
      }
      
      .filterDiv h3 {
        margin: 1rem 0 0.5rem;
        font-family:"Montserrat", sans-serif;
        font-weight: 600;
        font-style: normal;
        margin: 0;
      
      }
      .filterDiv p {
        color: gray;
        margin: 0; 
      }

      .products_container :hover{

        box-shadow: 10px 10px 20px rgba(36, 36, 36, 0.5);
        transform: translateY(-5px);

      }
      .filterDiv :hover{

        box-shadow: 0px 0px 0px rgba(36, 36, 36, 0.5);
        transform: translateY(0);

      }
      .show {
        display: flex;
        transition: box-shadow 0.2s ease, transform 0.2s ease;
      }
      
      .products_container {
        transition: box-shadow 0.2s ease, transform 0.2s ease;
        margin-top: 20px;
        overflow: hidden;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        padding: 0 20rem;
        padding-top: 10rem;
      }
      
      /* Style the buttons */
      .btn {
        border: none;
        outline: none;
        padding: 12px 16px;
        background-color: #f1f1f1;
        cursor: pointer;
      }
      
      .btn:hover {
        background-color: #ddd;
      }
      
      .btn.active {
        background-color: #666;
        color: white;
      }

</style>
</head>
<body style="margin: 0px; background: rgb(255, 250, 244)">
  <div class="ultimate_nav">
    <header>
  
      <div class = "element_container">
        <div class = "logo">      
          <a href='Home.html'>
            <img class="logo"  src="https://cdn.animaapp.com/projects/673dab3263b5c67177c683c2/releases/673dafd5ad868c6a88d1d3ba/img/logo.svg" >  
            <span class="link logo"></span>
          </a>
        </div>
          <div class = "location_icon material-symbols-outlined icon">
            <span class="material-symbols-outlined icon">
              location_on
            </span>
          </div>  
          <div class="Search_bar" >
            <input 
            type="text" 
            id="search-bar" 
            placeholder="What are you looking for?" 
            oninput="showSuggestions()"
          >
          <div id="suggestions" class="suggestions hidden"></div>
                <img class="Search_ICON"  src="https://cdn.animaapp.com/projects/673dab3263b5c67177c683c2/releases/673dafd5ad868c6a88d1d3ba/img/icon.svg" >
              
          </div>
  
          <div class = "shopping_icons_box material-symbols-outlined icon">        
            <span class="material-symbols-outlined icon">
              store
            </span>
            <a href='cart.html'>
              <span class="material-symbols-outlined icon">
                shopping_cart
  
              </span>
            </a>
              <span class="material-symbols-outlined icon">
                notifications
              </span>
            <a href="Login.html">
              <span class="material-symbols-outlined icon" >
                account_circle
              </span>
            </a>
          </div>
      </div>
  
    </header>
    <div class="white-guys">
      <div class="barcontainer">
        <div class="line-eco-meter"></div>
        <div class="line-waste-meter"></div>
      </div>
    </div>

    
  
  </div>

<div class="scrollable-menu">
  <h3>Categories:</h3>
  <div class="tablink" onclick="openPage('Fruits', this, 'red')"id="defaultOpen"><img src="https://i.ibb.co.com/3dsytrC/fruits-2x.png" alt="Product 1"></div>
  <div class="tablink" onclick="openPage('Vegetables', this, 'green')"data-tab="Vegetables" ></div>
  <div class="tablink" onclick="openPage('Least Waste', this, 'blue')"></div>
  <div class="tablink" onclick="openPage('About', this, 'orange')"></div>
</div>

<div id="Fruits" class="tabcontent">
 
      <section id="myBtnContainer">
        <button class="btn active" onclick="filterSelection('all')"> Show all</button>
        <button class="btn" onclick="filterSelection('cars')"> Cars</button>
        <button class="btn" onclick="filterSelection('animals')"> Animals</button>
        <button class="btn" onclick="filterSelection('fruits')"> Fruits</button>
        <button class="btn" onclick="filterSelection('colors')"> Colors</button>
      </section>

      <section class="products_container">
        <div class="filterDiv cars">fuck</div>
        <div class="filterDiv colors fruits">Orange</div>
        <div class="filterDiv cars">Volvo</div>
        <div class="filterDiv colors">Red</div>
        <div class="filterDiv cars">Ford</div>
        <div class="filterDiv colors">Blue</div>
        <div class="filterDiv animals">Cat</div>
        <div class="filterDiv animals">Dog</div>
        <div class="filterDiv fruits">Melon</div>
        <div class="filterDiv fruits animals">Kiwi</div>
        <div class="filterDiv fruits">Banana</div>
        <div class="filterDiv fruits">Lemon</div>
        <div class="filterDiv animals">Cow</div>
      </section>

  </div>
  
</div>

<div id="Vegetables" class="tabcontent">

  <div id="myBtnContainer">
    <button class="btn active" onclick="filterSelection('all')"> Show All</button>
    <button class="btn" onclick="filterSelection('Celery')">Celery</button>
    <button class="btn" onclick="filterSelection('Broccoli')">Broccoli</button>
    <button class="btn" onclick="filterSelection('Carrot')">Carrots</button>
    <button class="btn" onclick="filterSelection('Lettuce')">Lettuce</button>
  </div>

  <div class="products_container">
    
    <div class="filterDiv Celery">
      <section class="product " data-id="1">
        <img src="https://i.ibb.co.com/8YTVWVb/R-1.jpg" alt="Milk 1">
        <h3>Milk 1</h3>
        <p>$10.00</p>
        <button id="add-to-cart">Add to Cart</button>
      </section>
    </div>
    
    <div class="filterDiv product Broccoli" data-id="2">Orange
      
        <img src="https://i.ibb.co.com/K5fVQfn/apple.jpg"alt="Apple">
        <h3>Apple</h3>
        <p>$20.00</p>
        <button id="add-to-cart">Add to Cart</button>
     </div> 
    <div class="filterDiv cars">Volvo</div>
    <div class="filterDiv colors">Red</div>
    <div class="filterDiv cars">Ford</div>
    <div class="filterDiv colors">Blue</div>
    <div class="filterDiv animals">Cat</div>
    <div class="filterDiv animals">Dog</div>
    <div class="filterDiv fruits">Melon</div>
    <div class="filterDiv fruits animals">Kiwi</div>
    <div class="filterDiv fruits">Banana</div>
    <div class="filterDiv fruits">Lemon</div>
    <div class="filterDiv animals">Cow</div>
  </div>

</div>

<div id="Least Waste" class="tabcontent">
  <h3>Least Waste</h3>
  <p>Get in touch, or swing by for a cup of coffee.</p>
</div>

<div id="About" class="tabcontent">
  <h3>Meat</h3>
  <p>Who we are and what we do.</p>
</div>


<script >

 // Tab Switching Function
function openPage(pageName, elmnt, color) {
  var i, tabcontent, tablinks;

  // Hide all tab contents
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Remove active state from all tab links
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].style.boxShadow = "";
  }

  // Show the selected tab
  document.getElementById(pageName).style.display = "block";
  elmnt.style.boxShadow = "0px 0px 20px #F8C519"; // Highlight active tab

  // Reset filters in the selected tab
  filterSelection('all');

  // Reset active state for filter buttons
  var btnContainer = document.getElementById("myBtnContainer");
  if (btnContainer) {
    var btns = btnContainer.getElementsByClassName("btn");
    for (i = 0; i < btns.length; i++) {
      btns[i].classList.remove("active");
    }
    if (btns[0]) {
      btns[0].classList.add("active"); // Set "Show all" as active
    }
  }
}

// Click default tab on page load
document.getElementById("defaultOpen").click();

// Filter Selection Function
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filterDiv");
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) AddClass(x[i], "show");
  }

  // Highlight the active button
  var btns = document.querySelectorAll("#myBtnContainer .btn");
  btns.forEach((btn) => btn.classList.remove("active"));
  var activeBtn = Array.from(btns).find((btn) => btn.textContent.trim().toLowerCase() === c.toLowerCase());
  if (activeBtn) activeBtn.classList.add("active");
}

function AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {
      element.className += " " + arr2[i];
    }
  }
}

function RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);
    }
  }
  element.className = arr1.join(" ");
}


// Tab Switching Function

  // Function to get URL parameter
  function getUrlParam(param) {
    const params = new URLSearchParams(window.location.search);
    return params.get(param);
  }
  
  // Function to open a tab by URL parameter or default
  window.onload = function () {
    const tabFromUrl = getUrlParam("tab"); // Get 'tab' parameter from URL
    if (tabFromUrl && document.getElementById(tabFromUrl)) {
      // Open the specified tab if it exists
      openPage(tabFromUrl, document.querySelector(`[onclick*="${tabFromUrl}"]`), "#4CAF50");
    } else {
      // Open the default tab
      document.getElementById("defaultOpen").click();
    }
  };

//add to cart and product data 

const products = [
  {
      id: 1,
      name: "Milk 1",
      price: 10.00,
      wasteIndex: 6,
      image: "https://i.ibb.co.com/8YTVWVb/R-1.jpg",
  },
  {
      id: 2,
      name: "Apple",
      price: 20.00,
      wasteIndex: 3,
      image: "https://i.ibb.co.com/K5fVQfn/apple.jpg",
  },
  {
      id: 3,
      name: "Milk 2",
      price: 30.00,
      wasteIndex: 3,
      image: "https://i.ibb.co.com/8YTVWVb/R-1.jpg",
  },
  {
      id: 4,
      name: "Celery",
      price: 30.00,
      wasteIndex: 2,
      image: "https://i.ibb.co.com/gZKBYTP/R.jpg",
  },
];
localStorage.setItem('products', JSON.stringify(products));

let currentuser = JSON.parse(localStorage.getItem('current-user')) || { cart: [] };
document.addEventListener('DOMContentLoaded', () => {
  // Retrieve products from localStorage or use a default array
  const products = JSON.parse(localStorage.getItem('products')) || [];
  

  // Attach event listeners to all "Add to Cart" buttons
  document.querySelectorAll('.product button#add-to-cart').forEach((button) => {
      button.addEventListener('click', () => {
          // Get the product ID from the parent `.product` div
          const productElement = button.closest('.product');
          const productId = productElement.getAttribute('data-id');
          
          // Find the product in the products array
          const product = products.find(p => p.id == productId);

          if (product) {
              // Add the product to the current user's cart
              currentuser.cart.push(product);

              // Update localStorage for the current user
              localStorage.setItem('current-user', JSON.stringify(currentuser));

              // Optional: Alert the user
              alert(`${product.name} has been added to your cart!`);
          } else {
              console.error('Product not found!');
          }
      });
  });
});

console.log(currentuser)
  

</script>

   
</body>
</html> 
